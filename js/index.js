"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var modePc,modePhone,windowWidth=$(window).width(),breakpoint={};breakpoint.getValue=function(){this.value=window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content").replace(/\"/g,""),modePhone=-1!==["xs","sm"].indexOf(this.value),modePc=!modePhone},$(function(){breakpoint.getValue()}),$(window).on("load",function(){}),$(window).resize(function(){$(window).width()!==windowWidth&&location.reload()}),$(window).scroll(function(){}),$(window).on("load",function(){function o(){_classCallCheck(this,o),this.type="",this.name="",this.required=!1,this.question="",this.answerList=[]}new Vue({el:"#questionnaire",data:{message:"",heading:"",questionList:[]},methods:{submit:function(){var i=this,e=$("#questionnaire form"),t=e.attr("action"),n=e.attr("data-sheet-id");$.ajax({method:"POST",url:t,data:e.serialize()}).done(function(e){}).fail(function(e){}).always(function(e){if($("#questionnaire-modal").modal("show"),-1!==[0,200].indexOf(e.readyState)){i.message="感謝您的參與 ^ ^";var t=[];$.get("//spreadsheets.google.com/feeds/list/"+n+"/1/public/values?alt=json",function(e){e.feed.entry.forEach(function(i){var n={};Object.keys(i).filter(function(e){return-1!==e.indexOf("gsx$")}).forEach(function(e){var t=e.replace("gsx$","");n[t]=i[e].$t}),t.push(n)}),console.log(t.length),console.log(JSON.stringify(t))}),$("#questionnaire-modal").on("hidden.bs.modal",function(){alert(JSON.stringify(t))})}else i.message="連線異常！請再試一次"})}},mounted:function(){var t=this;t.heading=$("#spider .freebirdFormviewerViewHeaderTitle").text().trim(),$("#spider .freebirdFormviewerViewNumberedItemContainer").each(function(){var i=$(this),n=new o;if([{class:".freebirdFormviewerViewItemsRadioOptionContainer",type:"radio"},{class:".freebirdFormviewerViewItemsCheckboxOptionContainer",type:"checkbox"},{class:".freebirdFormviewerViewItemsTextShortText",type:"text"}].find(function(e){var t=!!i.find(e.class).length;return t&&(n.type=e.type),t}),n.type){switch(n.type){case"radio":case"checkbox":n.name=i.find("input[type=hidden]:disabled").attr("name");break;case"text":n.name=i.find("input").attr("name")}var e=!!i.find(".freebirdFormviewerViewItemsItemRequiredAsterisk").length;if("checkbox"!==n.type&&e&&(n.required=!0),n.question=i.find(".freebirdFormviewerViewItemsItemItemTitle").text().trim(),"text"===n.type){["電話","手機"].some(function(e){return-1!==n.question.indexOf(e)})&&(n.type="tel");["Email","email","郵件","信箱"].some(function(e){return-1!==n.question.indexOf(e)})&&(n.type="email")}-1!==["radio","checkbox"].indexOf(n.type)&&i.find(".exportLabel").each(function(){n.answerList.push($(this).text().trim())}),t.questionList.push(n)}})}})});